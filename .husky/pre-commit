#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "Running code style checks..."

# Backend: Spotless check
echo "Checking backend code style (Spotless)..."
cd codepop-backend && ./mvnw spotless:check || {
  echo "❌ Backend code style violations found. Run 'mvn spotless:apply' to fix."
  exit 1
}
cd ..

# Frontend: Prettier and ESLint check
echo "Checking frontend code style (Prettier + ESLint)..."
cd codepop-frontend && npm run lint && npm run format:check || {
  echo "❌ Frontend code style violations found. Run 'npm run format:fix' to fix."
  exit 1
}
cd ..

echo "✅ All code style checks passed!"

